{% extends 'base.html.twig' %}

{% block css %}


	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css"/>
	{# Geocoding plugin #}
	<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>

	<link rel="stylesheet" href="{{ asset('/assets/css/stylesMap.css') }}">
{% endblock %}


{% block body %}
	<main>
		<section id="localisationContainer">

			<div id="map">
				<div id="buttonsContainer">

					<button type="button" id="addRemoveAll" class="mapButton selected">
						<span id="titleButton">Tout masquer</span><input class="mapButton" type="checkbox" checked="true"></button>
					{# <button type="button" id="removeAll" class="mapButton">Masquer tout</button> #}

					<!-- Les boutons seront générés automatiquement -->
				</div>
			</div>

		</section>

		{#	{{ response |raw }}#}
		{% if response is defined %}
			<input data-material={{response.material}} data-collectionpointtype={{response.collectionPointType}} id="datas" type="hidden"/>
		{% else %}
			<input id="datas" type="hidden"/>
		{% endif %}
	</main>
{% endblock %}

{% block javascripts %}
	<script>
		var assetsBaseDir = "{{ asset('assets/') }}"
	</script>
	<script src="https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js"></script>
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
	<script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>

	{# Geocoding  plugin #}
	<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="{{ asset('/assets/js/scriptsMap.js') }}"></script>
{% endblock %}
