{% extends 'basemap.html.twig' %}

{% block css %}


	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css"/>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	{# Geocoding plugin #}
	<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>

	<link rel="stylesheet" href="{{ asset('/assets/css/stylesMap.css') }}">
{% endblock %}


{% block body %}

	<div class="container-fluid">
		<section id="localisationContainer">

			<div id="map">

				<!-- Mobile button to slide toogle legend -->
				<button type="button" id="showHideButton" class="btn">
					<span>Filtrer les points de collecte</span>
				</button>

				<!-- Desktop and unwrap legend version -->

				<div id="buttonsContainer">
					<button id="closeLegend" class="mapButton"><i class="fa fa-times fa-2x" aria-hidden="true"></i></button>
					<h5>Filtrer les points de collecte</h5>
					<button type="button" id="addRemoveAll" class="selected btn btn-danger">
						<span id="titleButton">Tout masquer</span><input class="mapButton" type="checkbox" checked="true">
					</button>
					<!-- Layers button are created by JS file -->
				</div>

			</div>

		</section>


	</div>

	{#	{{ response |raw }}#}
	{% if response is defined %}
		<input data-materialorusage={{response.materialOrUsage}} data-collectionpointtype={{response.collectionPointType}} id="datas" type="hidden"/>
	{% else %}
		<input id="datas" type="hidden"/>
	{% endif %}
</main>{% endblock %}{% block javascripts %}
<script>
	var assetsBaseDir = "{{ asset('assets/') }}"
</script>
<script src="https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js"></script>
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
<script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>

{# Geocoding  plugin #}
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="{{ asset('/assets/js/scriptsMap.js') }}"></script>{% endblock %}
